// Mapping for stylized Unicode back to ASCII
const fontMap = {
  // Fullwidth A-Z
  'Ａ':'A','Ｂ':'B','Ｃ':'C','Ｄ':'D','Ｅ':'E','Ｆ':'F','Ｇ':'G','Ｈ':'H','Ｉ':'I','Ｊ':'J','Ｋ':'K','Ｌ':'L','Ｍ':'M','Ｎ':'N','Ｏ':'O','Ｐ':'P','Ｑ':'Q','Ｒ':'R','Ｓ':'S','Ｔ':'T','Ｕ':'U','Ｖ':'V','Ｗ':'W','Ｘ':'X','Ｙ':'Y','Ｚ':'Z',
  // Fullwidth a-z
  'ａ':'a','ｂ':'b','ｃ':'c','ｄ':'d','ｅ':'e','ｆ':'f','ｇ':'g','ｈ':'h','ｉ':'i','ｊ':'j','ｋ':'k','ｌ':'l','ｍ':'m','ｎ':'n','ｏ':'o','ｐ':'p','ｑ':'q','ｒ':'r','ｓ':'s','ｔ':'t','ｕ':'u','ｖ':'v','ｗ':'w','ｘ':'x','ｙ':'y','ｚ':'z',
  // Fullwidth 0-9
  '０':'0','１':'1','２':'2','３':'3','４':'4','５':'5','６':'6','７':'7','８':'8','９':'9',
  // Mathematical Bold A-Z, a-z, 0-9
  '𝐀':'A','𝐁':'B','𝐂':'C','𝐃':'D','𝐄':'E','𝐅':'F','𝐆':'G','𝐇':'H','𝐈':'I','𝐉':'J','𝐊':'K','𝐋':'L','𝐌':'M','𝐍':'N','𝐎':'O','𝐏':'P','𝐐':'Q','𝐑':'R','𝐒':'S','𝐓':'T','𝐔':'U','𝐕':'V','𝐖':'W','𝐗':'X','𝐘':'Y','𝐙':'Z',
  '𝐚':'a','𝐛':'b','𝐜':'c','𝐝':'d','𝐞':'e','𝐟':'f','𝐠':'g','𝐡':'h','𝐢':'i','𝐣':'j','𝐤':'k','𝐥':'l','𝐦':'m','𝐧':'n','𝐨':'o','𝐩':'p','𝐪':'q','𝐫':'r','𝐬':'s','𝐭':'t','𝐮':'u','𝐯':'v','𝐰':'w','𝐱':'x','𝐲':'y','𝐳':'z',
  '𝟎':'0','𝟏':'1','𝟐':'2','𝟑':'3','𝟒':'4','𝟓':'5','𝟔':'6','𝟕':'7','𝟖':'8','𝟗':'9',
  // Fraktur (most common subset)
  '𝔄':'A','𝔅':'B','ℭ':'C','𝔇':'D','𝔈':'E','𝔉':'F','𝔊':'G','ℌ':'H','ℑ':'I','𝔍':'J','𝔎':'K','𝔏':'L','𝔐':'M','𝔑':'N','𝔒':'O','𝔓':'P','𝔔':'Q','ℜ':'R','𝔖':'S','𝔗':'T','𝔘':'U','𝔙':'V','𝔚':'W','𝔛':'X','𝔜':'Y','ℨ':'Z',
  '𝔞':'a','𝔟':'b','𝔠':'c','𝔡':'d','𝔢':'e','𝔣':'f','𝔤':'g','𝔥':'h','𝔦':'i','𝔧':'j','𝔨':'k','𝔩':'l','𝔪':'m','𝔫':'n','𝔬':'o','𝔭':'p','𝔮':'q','𝔯':'r','𝔰':'s','𝔱':'t','𝔲':'u','𝔳':'v','𝔴':'w','𝔵':'x','𝔶':'y','𝔷':'z',
  // Monospace
  '𝙰':'A','𝙱':'B','𝙲':'C','𝙳':'D','𝙴':'E','𝙵':'F','𝙶':'G','𝙷':'H','𝙸':'I','𝙹':'J','𝙺':'K','𝙻':'L','𝙼':'M','𝙽':'N','𝙾':'O','𝙿':'P','𝚀':'Q','𝚁':'R','𝚂':'S','𝚃':'T','𝚄':'U','𝚅':'V','𝚆':'W','𝚇':'X','𝚈':'Y','𝚉':'Z',
  '𝚊':'a','𝚋':'b','𝚌':'c','𝚍':'d','𝚎':'e','𝚏':'f','𝚐':'g','𝚑':'h','𝚒':'i','𝚓':'j','𝚔':'k','𝚕':'l','𝚖':'m','𝚗':'n','𝚘':'o','𝚙':'p','𝚚':'q','𝚛':'r','𝚜':'s','𝚝':'t','𝚞':'u','𝚟':'v','𝚠':'w','𝚡':'x','𝚢':'y','𝚣':'z',
  '𝟶':'0','𝟷':'1','𝟸':'2','𝟹':'3','𝟺':'4','𝟻':'5','𝟼':'6','𝟽':'7','𝟾':'8','𝟿':'9'
};

// Normalize stylized/unicode font to plain ASCII (for matching)
function normalizeToAscii(str) {
  return str
    .split('')
    .map(c => fontMap[c] || c)
    .join('')
    .replace(/[^A-Za-z0-9]/g, '') // remove non-alphanum
    .toLowerCase();
}

module.exports = {
  normalizeToAscii
};