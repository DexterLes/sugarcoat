// Mapping for stylized Unicode back to ASCII
const fontMap = {
  // Fullwidth A-Z
  'ï¼¡':'A','ï¼¢':'B','ï¼£':'C','ï¼¤':'D','ï¼¥':'E','ï¼¦':'F','ï¼§':'G','ï¼¨':'H','ï¼©':'I','ï¼ª':'J','ï¼«':'K','ï¼¬':'L','ï¼­':'M','ï¼®':'N','ï¼¯':'O','ï¼°':'P','ï¼±':'Q','ï¼²':'R','ï¼³':'S','ï¼´':'T','ï¼µ':'U','ï¼¶':'V','ï¼·':'W','ï¼¸':'X','ï¼¹':'Y','ï¼º':'Z',
  // Fullwidth a-z
  'ï½':'a','ï½‚':'b','ï½ƒ':'c','ï½„':'d','ï½…':'e','ï½†':'f','ï½‡':'g','ï½ˆ':'h','ï½‰':'i','ï½Š':'j','ï½‹':'k','ï½Œ':'l','ï½':'m','ï½Ž':'n','ï½':'o','ï½':'p','ï½‘':'q','ï½’':'r','ï½“':'s','ï½”':'t','ï½•':'u','ï½–':'v','ï½—':'w','ï½˜':'x','ï½™':'y','ï½š':'z',
  // Fullwidth 0-9
  'ï¼':'0','ï¼‘':'1','ï¼’':'2','ï¼“':'3','ï¼”':'4','ï¼•':'5','ï¼–':'6','ï¼—':'7','ï¼˜':'8','ï¼™':'9',
  // Mathematical Bold A-Z, a-z, 0-9
  'ð€':'A','ð':'B','ð‚':'C','ðƒ':'D','ð„':'E','ð…':'F','ð†':'G','ð‡':'H','ðˆ':'I','ð‰':'J','ðŠ':'K','ð‹':'L','ðŒ':'M','ð':'N','ðŽ':'O','ð':'P','ð':'Q','ð‘':'R','ð’':'S','ð“':'T','ð”':'U','ð•':'V','ð–':'W','ð—':'X','ð˜':'Y','ð™':'Z',
  'ðš':'a','ð›':'b','ðœ':'c','ð':'d','ðž':'e','ðŸ':'f','ð ':'g','ð¡':'h','ð¢':'i','ð£':'j','ð¤':'k','ð¥':'l','ð¦':'m','ð§':'n','ð¨':'o','ð©':'p','ðª':'q','ð«':'r','ð¬':'s','ð­':'t','ð®':'u','ð¯':'v','ð°':'w','ð±':'x','ð²':'y','ð³':'z',
  'ðŸŽ':'0','ðŸ':'1','ðŸ':'2','ðŸ‘':'3','ðŸ’':'4','ðŸ“':'5','ðŸ”':'6','ðŸ•':'7','ðŸ–':'8','ðŸ—':'9',
  // Fraktur (most common subset)
  'ð”„':'A','ð”…':'B','â„­':'C','ð”‡':'D','ð”ˆ':'E','ð”‰':'F','ð”Š':'G','â„Œ':'H','â„‘':'I','ð”':'J','ð”Ž':'K','ð”':'L','ð”':'M','ð”‘':'N','ð”’':'O','ð”“':'P','ð””':'Q','â„œ':'R','ð”–':'S','ð”—':'T','ð”˜':'U','ð”™':'V','ð”š':'W','ð”›':'X','ð”œ':'Y','â„¨':'Z',
  'ð”ž':'a','ð”Ÿ':'b','ð” ':'c','ð”¡':'d','ð”¢':'e','ð”£':'f','ð”¤':'g','ð”¥':'h','ð”¦':'i','ð”§':'j','ð”¨':'k','ð”©':'l','ð”ª':'m','ð”«':'n','ð”¬':'o','ð”­':'p','ð”®':'q','ð”¯':'r','ð”°':'s','ð”±':'t','ð”²':'u','ð”³':'v','ð”´':'w','ð”µ':'x','ð”¶':'y','ð”·':'z',
  // Monospace
  'ð™°':'A','ð™±':'B','ð™²':'C','ð™³':'D','ð™´':'E','ð™µ':'F','ð™¶':'G','ð™·':'H','ð™¸':'I','ð™¹':'J','ð™º':'K','ð™»':'L','ð™¼':'M','ð™½':'N','ð™¾':'O','ð™¿':'P','ðš€':'Q','ðš':'R','ðš‚':'S','ðšƒ':'T','ðš„':'U','ðš…':'V','ðš†':'W','ðš‡':'X','ðšˆ':'Y','ðš‰':'Z',
  'ðšŠ':'a','ðš‹':'b','ðšŒ':'c','ðš':'d','ðšŽ':'e','ðš':'f','ðš':'g','ðš‘':'h','ðš’':'i','ðš“':'j','ðš”':'k','ðš•':'l','ðš–':'m','ðš—':'n','ðš˜':'o','ðš™':'p','ðšš':'q','ðš›':'r','ðšœ':'s','ðš':'t','ðšž':'u','ðšŸ':'v','ðš ':'w','ðš¡':'x','ðš¢':'y','ðš£':'z',
  'ðŸ¶':'0','ðŸ·':'1','ðŸ¸':'2','ðŸ¹':'3','ðŸº':'4','ðŸ»':'5','ðŸ¼':'6','ðŸ½':'7','ðŸ¾':'8','ðŸ¿':'9'
};

// Normalize stylized/unicode font to plain ASCII (for matching)
function normalizeToAscii(str) {
  return str
    .split('')
    .map(c => fontMap[c] || c)
    .join('')
    .replace(/[^A-Za-z0-9]/g, '') // remove non-alphanum
    .toLowerCase();
}

module.exports = {
  normalizeToAscii
};